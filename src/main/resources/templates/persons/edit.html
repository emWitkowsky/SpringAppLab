<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Edytuj Persona</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

<!-- Navbar -->
<div th:replace="~{fragments :: navbar}"></div>

<div class="container mt-4">
  <h2>Edytuj Persona</h2>

  <!-- Formularz edycji osoby -->
  <form th:action="@{/persons/edit/{id}(id=${person.id})}" th:object="${person}" method="post">
    <div class="mb-3">
      <label for="name" class="form-label">ImiÄ™</label>
      <input type="text" th:field="*{name}" class="form-control" id="name" required>
      <div class="text-danger" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></div>
    </div>

    <div class="mb-3">
      <label for="lastName" class="form-label">Nazwisko</label>
      <input type="text" th:field="*{lastName}" class="form-control" id="lastName" required>
    </div>

    <div class="mb-3">
      <label for="email" class="form-label">Email</label>
      <input type="email" th:field="*{email}" class="form-control" id="email" required>
      <div class="text-danger" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></div>
    </div>

    <div class="mb-3">
      <label for="company" class="form-label">Kompania</label>
      <input type="text" th:field="*{company}" class="form-control" id="company" required>
    </div>

    <div class="mb-3">
      <label for="salary" class="form-label">Zarobki</label>
      <input type="text" th:field="*{salary}" class="form-control" id="salary" required>
    </div>

    <div class="mb-3">
      <label for="currency" class="form-label">Waluta</label>
      <input type="text" th:field="*{currency}" class="form-control" id="currency" required>
    </div>

<!--    <div class="mb-3">-->
<!--      <label for="country" class="form-label">Kraj</label>-->
<!--      <input type="text" th:field="*{country}" class="form-control" id="country" required>-->
<!--    </div>-->
    <div class="mb-3">
      <label for="country" class="form-label">Kraj</label>
      <select th:field="*{country}" class="form-select" id="country" required>
        <option value="" disabled th:if="${#strings.isEmpty(person.country)}" selected>Wybierz kraj</option>
        <option th:each="country : ${countries}" th:value="${country}" th:text="${country}"></option>
      </select>
    </div>

    <button type="submit" class="btn btn-primary">Zapisz zmiany</button>
    <a th:href="@{/persons/list}" class="btn btn-secondary">Anuluj</a>
  </form>
</div>

<!-- Footer -->
<div th:replace="~{fragments :: footer}"></div>

</body>
</html>
